!function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var r={},n={},t=function(e,r){return{}.hasOwnProperty.call(e,r)},i=function(e,r){var n,t,i=[];n=/^\.\.?(\/|$)/.test(r)?[e,r].join("/").split("/"):r.split("/");for(var a=0,s=n.length;s>a;a++)t=n[a],".."===t?i.pop():"."!==t&&""!==t&&i.push(t);return i.join("/")},a=function(e){return e.split("/").slice(0,-1).join("/")},s=function(r){return function(n){var t=a(r),s=i(t,n);return e.require(s,r)}},o=function(e,r){var t={id:e,exports:{}};return n[e]=t,r(t.exports,s(e),t),t.exports},c=function(e,a){var s=i(e,".");if(null==a&&(a="/"),t(n,s))return n[s].exports;if(t(r,s))return o(s,r[s]);var c=i(s,"./index");if(t(n,c))return n[c].exports;if(t(r,c))return o(c,r[c]);throw new Error('Cannot find module "'+e+'" from "'+a+'"')},u=function(e,n){if("object"==typeof e)for(var i in e)t(e,i)&&(r[i]=e[i]);else r[e]=n},f=function(){var e=[];for(var n in r)t(r,n)&&e.push(n);return e};e.require=c,e.require.define=u,e.require.register=u,e.require.list=f,e.require.brunch=!0}}(),require.register("src/cards",function(e,r,n){var t,i,a,s,o,c,u,f,p,d;t={FACE_DOWN:0,FACE_UP:1,MATCHED:2},i=["apples-and-honey","bath","biking","camping","candy","challah","chanukah","chicken-soup","cruise","deli","dessing-up","dreydel","flowers","hamantashen","hebrew","ice-cream","lifting-weights","menorah","painting","park","pictures","presents","reading","shabbos","shopping","singing","skiing","sleeping","snowman","sukkah","swimming","tzadaka"],p=["camping","candy","menorah","painting","park","bath"],o=function(){return p},a=R.mapIndexed(function(e,r){return{id:e+(1+r%2),image:e,status:t.FACE_DOWN}}),u=R.chain(function(e){return[e,e]}),s=R.compose(a,u),f=function(){return Math.floor(3*Math.random())-1},d=R.sort(f),c=R.compose(d,s,o),n.exports={CARD_STATES:t,getDeck:c}}),require.register("src/drawing",function(e,r,n){var t,i,a,s;t=function(e,r){return"<div id='"+e+"' class='card face-down "+r+"'></div>"},a=function(e){return Zepto(t(e.id,e.image))},i=function(e){return e.appendTo(Zepto("#cards"))},s=R.reduce(function(e,r){var n;return n=R.compose(i,a)(r),R.assoc(r.id,n,e)},{}),n.exports={renderDeck:s}}),require.register("src/game",function(e,r,n){var t,i,a,s;t=r("./cards"),a=r("./drawing"),i=t.getDeck(),s=R.pipe(R.toPairs,R.map(function(e){var r,n;return n=e[0],r=e[1],Kefir.fromEvents(r,"click",R.always(n))})),Zepto(function(){var e,r,n,o,c,u,f,p;return e=a.renderDeck(i),r=s(e),p=Kefir.merge(r).scan(function(e,r){var n;return 2===e.faceUps.length?{faceUps:[r],valid:!0}:R.contains(r,e.faceUps)?R.merge(e,{valid:!1}):(n=R.append(r,e.faceUps),{faceUps:n,valid:!0})},{faceUps:[],valid:!1}).map(R.prop("valid")),o=Kefir.merge(r).filterBy(p).scan(function(e,r){return 2===e.length?[r]:R.append(r,e)},[]),u=o.filter(R.compose(R.eq(2),R.length)).map(function(e){var r;return r=function(e){return e.replace(/\d/,"")},u=R.compose(R.apply(R.eq),R.map(r))(e),{affectedCards:e,match:u}}),f=u.delay(1500),c=function(e){var r,n;return r=function(e){return{affectedCards:[R.last(e)],status:t.CARD_STATES.FACE_UP}},n=function(e){return{affectedCards:e.affectedCards,status:e.match?t.CARD_STATES.MATCHED:t.CARD_STATES.FACE_DOWN}},Kefir.merge([o.map(r),f.map(n)]).filter(R.compose(R.contains(e.id),R.prop("affectedCards"))).scan(function(e,r){return R.merge(e,{status:r.status})},e)},n=Kefir.merge(R.map(c,i)),n.onValue(function(r){return r.status===t.CARD_STATES.FACE_UP?(e[r.id].removeClass("face-down"),e[r.id].addClass("face-up")):r.status===t.CARD_STATES.FACE_DOWN?(e[r.id].removeClass("face-up"),e[r.id].addClass("face-down")):r.status===t.CARD_STATES.MATCHED?e[r.id].css("visibility","hidden"):void 0})})});